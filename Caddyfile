{
	# Let's Encrypt account email (must be valid)
	email {$LETSENCRYPT_EMAIL}

	# Optional: agree to ACME terms explicitly (not required usually)
	# acme_ca https://acme-v02.api.letsencrypt.org/directory
}

n8n.kamleshmerugu.me {
	encode gzip zstd

	# Reverse proxy to n8n container on internal network
	reverse_proxy n8n:5678

	# Basic security headers (safe defaults)
	header {
		-Server
		X-Content-Type-Options "nosniff"
		Referrer-Policy "strict-origin-when-cross-origin"
	}
}


portainer.kamleshmerugu.me {
	header {
		-Server
		X-Content-Type-Options "nosniff"
		Referrer-Policy "strict-origin-when-cross-origin"
	}

	reverse_proxy portainer:9000 {
		header_up X-Forwarded-Proto {scheme}
		header_up X-Forwarded-Host {host}
		header_up X-Forwarded-For {remote}
	}
}
